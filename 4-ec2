
4 -  Amazon Elastic Compute Cloud

In this chapter, you learned that there are five types of EC2 instances available: general purpose, compute optimized, memory optimized, storage optimized, and advanced computing. 
You learned how you can use a placement group to reduce the latency across instances. 
A placement group is a logical grouping of instances within a single AZ. You also learned that three types of EBS volumes can be attached to the EC2 instance: a general-purpose EBS volume backed up by solid-state drives, a provisioned IOPS-based EBS volume to maximize the I/O throughput, and a magnetic hard drive that provides the lowest cost per gigabyte. You learned about EBS-optimized instances that deliver dedicated throughput between Amazon EC2 and Amazon EBS volumes. 
You learned about the pricing model of EC2, which can be either on-demand (on an hourly or a per-second basis depending on the instance type) or a reserved instance (where you can reserve the instance in advance) and spot instances (where you bid for the unused compute). The default behavior of EC2 is shared tenancy, where you run EC2 instances on multitenant hardware. You can also host the EC2 instance on a dedicated host as well as on a dedicated instance. A dedicated host is a physical server exclusively assigned to you, and a dedicated instance is where you run the EC2 instances on single-tenant hardware. An Amazon machine image is a blueprint that has all the details of the software configuration of the server that you are going to launch in the Amazon cloud. 
An instance root device contains the image that is used to boot the instance. Linux AMIs use one of two types of virtualization: paravirtual and hardware virtual machine. Amazon Elastic Container Service is a container management service that allows you to manage Docker containers on a cluster of Amazon EC2 instances.

-----------------
Questions
1. 

You know that you need 24 CPUs for your production server. You also know that your compute capacity is going to remain fixed until next year, so you need to keep the production server up and running during that time. What pricing option would you go with?

Choose the spot instance

Choose the on-demand instance

Choose the three-year reserved instance

Choose the one-year reserved instance

2. 

You are planning to run a database on an EC2 instance. You know that the database is pretty heavy on I/O. The DBA told you that you would need a minimum of 8,000 IOPS. What is the storage option you should choose?

EBS volume with magnetic hard drive

Store all the data files in the ephemeral storage of the server

EBS volume with provisioned IOPS

EBS volume with general-purpose SSD
3. 

You are running your application on a bunch of on-demand servers. On weekends you have to kick off a large batch job, and you are planning to add capacity. The batch job you are going to run over the weekend can be restarted if it fails. What is the best way to secure additional compute resources?

Use the spot instance to add compute for the weekend

Use the on-demand instance to add compute for the weekend

Use the on-demand instance plus PIOPS storage for the weekend resource

Use the on-demand instance plus a general-purpose EBS volume for the weekend resource

4. 

You have a compliance requirement that you should own the entire physical hardware and no other customer should run any other instance on the physical hardware. What option should you choose?

Put the hardware inside the VPC so that no other customer can use it

Use a dedicated instance

Reserve the EC2 for one year

Reserve the EC2 for three years

5. 

You have created an instance in EC2, and you want to connect to it. What should you do to log in to the system for the first time?

Use the username/password combination to log in to the server

Use the key-pair combination (private and public keys)

Use your cell phone to get a text message for secure login

Log in via the root user

6. 

What are the characteristics of AMI that are backed up by the instance store? (Choose two.)

The data persists even after the instance reboot.

The data is lost when the instance is shut down.

The data persists when the instance is shut down.

The data persists when the instance is terminated.

7. 

How can you make a cluster of an EC2 instance?

By creating all the instances within a VPC

By creating all the instances in a public subnet

By creating all the instances in a private subnet

By creating a placement group

8. 

You need to take a snapshot of the EBS volume. How long will the EBS remain unavailable?

The volume will be available immediately.

EBS magnetic drive will take more time than SSD volumes.

It depends on the size of the EBS volume.

It depends on the actual data stored in the EBS volume.

9. 

What are the different ways of making an EC2 server available to the public?

Create it inside a public subnet

Create it inside a private subnet and assign a NAT device

Attach an IPv6 IP address

Allocate that with a load balancer and expose the load balancer to the public

10. 

The application workload changes constantly, and to meet that, you keep on changing the hardware type for the application server. Because of this, you constantly need to update the web server with the new IP address. How can you fix this problem?

Add a load balancer

Add an IPv6 IP address

Add an EIP to it

Use a reserved EC2 instance

---------------------
Answers

1. 

D. You won't choose a spot instance because the spot instance can be taken away at any time by giving notice. On-demand won't give you the best pricing since you know you will be running the server all the time for next year. Since you know the computation requirement is only for one year, you should not go with a three-year reserved instance. Rather, you should go for a one-year reserved instance to get the maximum benefit.

2. 

C. The magnetic hard drive won't give you the IOPS number you are looking for. You should not put the data files in the ephemeral drives because as soon as the server goes down, you will lose all the data. For a database, data is the most critical component, and you can't afford to lose that. The provisioned IOPS will give you the desired IOPS that your database needs. You can also run the database with general-purpose SSD, but there is no guarantee that you will always get the 8,000 IOPS number that you are looking for. Only PIOPS will provide you with that capacity.

3. 

A. Since you know the workload can be restarted from where it fails, the spot instance is going to provide you with the additional compute and pricing benefit as well. You can go with on-demand as well; the only thing is you have to pay a little bit more for on-demand than for the spot instance. You can choose a PIOPS or GP2 with the on-demand instance. If you choose PIOPS, you have to pay much more compared to all the other options.

4. 

B. You can create the instance inside a VPC, but that does not mean other customers can't create any other instance in the physical hardware. Creating a dedicated instance is going to provide exactly what you are looking for. Reserving the EC2 instance for the instance for one or three years won't help unless you reserve it as a dedicated instance.

5. 

B. The first time you log in to an EC2 instance, you need the combination of the private and public keys. You won't be able to log in using a username and password or as a root user unless you have used the keys. You won't be able to use multifactor authentication until you configure it.

6. 

A, B. If an AMI is backed up by an instance store, you lose all the data if the instance is shut down or terminated. However, the data persists if the instance is rebooted.

7. 

D. You can create the placement group within the VPC or within the private or public subnet.

8. 

A. The volumes are available irrespective of the time it takes to take the snapshot.

9. 

A. If you create an EC2 instance in the public subnet, it is available from the Internet. Creating an instance inside a private subnet and attaching a NAT instance won't give access from the Internet. Attaching an IPv6 address can provide Internet accessibility provided it is a public IPv6 and not private. Giving load balance access to the public won't give the EC2 access to the public.

10. 

C. Even if you reserve the instance, you still need to remap the IP address. Even with IPv6 you need to remap the IP addresses. The load balancer won't help because the load balancer also needs to be remapped with the new IP addresses.
